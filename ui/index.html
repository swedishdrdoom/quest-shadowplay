<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quest Shadowplay</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <h1>üéÆ Quest Shadowplay</h1>
            <div class="status-badge" id="status-badge">
                <span class="status-dot"></span>
                <span class="status-text">Idle</span>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <!-- Recording Controls -->
            <section class="control-panel">
                <div class="buffer-display">
                    <div class="buffer-label">
                        <span>Buffer</span>
                        <span id="buffer-percent">0%</span>
                    </div>
                    <div class="buffer-bar">
                        <div class="buffer-fill" id="buffer-fill"></div>
                    </div>
                    <div class="buffer-info">
                        <span id="frame-count">0</span> / <span id="frame-capacity">900</span> frames
                    </div>
                </div>

                <div class="control-buttons">
                    <button class="btn btn-primary" id="btn-record" onclick="toggleRecording()">
                        <span class="btn-icon">‚ñ∂</span>
                        <span class="btn-text">Start Recording</span>
                    </button>
                    <button class="btn btn-secondary" id="btn-save" onclick="saveClip()" disabled>
                        <span class="btn-icon">üíæ</span>
                        <span class="btn-text">Save Clip</span>
                    </button>
                </div>
            </section>

            <!-- Native Recording (macOS Hardware Accelerated) -->
            <section class="control-panel native-panel">
                <div class="native-header">
                    <h3>üé¨ Native Recording (1080p 60fps)</h3>
                    <span class="native-badge">Hardware Accelerated</span>
                </div>
                <div class="native-stats" id="native-stats">
                    <span>Frames: <strong id="native-frames">0</strong></span>
                    <span>Dropped: <strong id="native-dropped">0</strong></span>
                    <span>Encoded: <strong id="native-encoded">0</strong></span>
                </div>
                <div class="control-buttons">
                    <button class="btn btn-native" id="btn-native-record" onclick="toggleNativeRecording()">
                        <span class="btn-icon">‚è∫</span>
                        <span class="btn-text">Start Native Recording</span>
                    </button>
                </div>
                <p class="native-hint">Records directly to MP4 using ScreenCaptureKit + VideoToolbox</p>
            </section>

            <!-- Saved Clips Grid -->
            <section class="clips-section">
                <div class="section-header">
                    <h2>Saved Clips</h2>
                    <span class="clip-count" id="clip-count">0 clips</span>
                </div>
                <div class="clips-grid" id="clips-grid">
                    <!-- Clips will be loaded here -->
                    <div class="empty-state" id="empty-state">
                        <span class="empty-icon">üìπ</span>
                        <p>No clips saved yet</p>
                        <p class="empty-hint">Start recording and save your first clip!</p>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Quest Shadowplay v0.1.0 ‚Ä¢ VR Replay Buffer</p>
        </footer>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toast-container"></div>

    <script src="app.js"></script>
</body>
</html>

